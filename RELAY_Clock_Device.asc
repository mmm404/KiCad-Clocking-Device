Version 4
SHEET 1 1360 844
WIRE -96 272 -160 272
WIRE 176 272 96 272
WIRE 400 320 400 288
WIRE -256 368 -336 368
WIRE -96 368 -176 368
WIRE 176 368 96 368
WIRE 336 368 256 368
WIRE 400 528 400 416
WIRE 400 640 400 608
WIRE 400 752 400 704
FLAG 496 128 12V
FLAG 656 128 5V
FLAG 496 208 0
FLAG 816 128 GPIO
FLAG 176 272 5V
FLAG 656 208 0
FLAG 816 208 0
FLAG -160 272 5V
FLAG -336 368 GPIO
FLAG 400 288 0
FLAG 400 752 12V
SYMBOL voltage 496 112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 12
SYMBOL voltage 656 112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 5
SYMBOL npn 336 320 R0
SYMATTR InstName Q1
SYMATTR Value 2N3904
SYMBOL Optos\\PC817B 0 320 R0
SYMATTR InstName U1
SYMBOL voltage 816 112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PWL(0 0 1 0 1.000001 5 2 5 2.000001 0 3 0)
SYMBOL res 272 352 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL res -160 352 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 2000
SYMBOL res 384 512 R0
SYMATTR InstName R3
SYMATTR Value 20k
SYMBOL diode 416 704 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
TEXT -96 432 Left 2 !.tran 0 5 0 0.1
